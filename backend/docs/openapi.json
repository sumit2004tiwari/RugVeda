{
  "openapi": "3.0.3",
  "info": {
    "title": "RugVeda API",
    "version": "1.0.0",
    "description": "REST API for RugVeda e-commerce platform. All responses are wrapped as { success, message, data }."
  },
  "servers": [
    { "url": "/api", "description": "Relative API base" },
    { "url": "http://localhost:4000/api", "description": "Local" }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": { "type": "http", "scheme": "bearer", "bearerFormat": "JWT" }
    },
    "schemas": {
      "ApiResponse": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean" },
          "message": { "type": "string" },
          "data": {}
        },
        "required": ["success"]
      },
      "User": { "type": "object", "properties": { "id": {"type":"string"}, "fullName": {"type":"string"}, "email": {"type":"string"}, "phone": {"type":"string","nullable": true}, "role": {"type":"string"}, "isEmailVerified": {"type":"boolean"} } },
      "AuthProvider": { "type": "object", "properties": { "id": {"type":"string"}, "userId": {"type":"string"}, "provider": {"type":"string"}, "providerUserId": {"type":"string"} } },
      "Vendor": { "type": "object", "properties": { "id": {"type":"string"}, "name": {"type":"string"}, "email": {"type":"string","nullable":true}, "phone": {"type":"string","nullable":true}, "config": {"type":"object"}, "isActive": {"type":"boolean"} } },
      "Category": { "type": "object", "properties": { "id": {"type":"string"}, "name": {"type":"string"}, "slug": {"type":"string"}, "parentId": {"type":"string","nullable": true}, "position": {"type":"integer"}, "isActive": {"type":"boolean"} } },
      "ProductImage": { "type": "object", "properties": { "id": {"type":"string"}, "productId": {"type":"string"}, "variantId": {"type":"string","nullable": true}, "url": {"type":"string"}, "alt": {"type":"string","nullable": true}, "position": {"type":"integer"} } },
      "ProductVariant": { "type": "object", "properties": { "id": {"type":"string"}, "productId": {"type":"string"}, "sku": {"type":"string","nullable": true}, "variantName": {"type":"string","nullable": true}, "additionalPrice": {"type":"number"}, "stockQuantity": {"type":"integer"}, "lengthCm": {"type":"number","nullable": true}, "widthCm": {"type":"number","nullable": true}, "metadata": {"type":"object"} } },
      "Product": { "type": "object", "properties": { "id": {"type":"string"}, "sku": {"type":"string","nullable": true}, "name": {"type":"string"}, "slug": {"type":"string"}, "description": {"type":"string","nullable": true}, "price": {"type":"number"}, "currency": {"type":"string"}, "isActive": {"type":"boolean"}, "stockQuantity": {"type":"integer"}, "material": {"type":"string","nullable": true}, "color": {"type":"string","nullable": true}, "origin": {"type":"string","nullable": true}, "images": {"type":"array","items":{"$ref":"#/components/schemas/ProductImage"}}, "variants": {"type":"array","items":{"$ref":"#/components/schemas/ProductVariant"}} } },
      "Address": { "type": "object", "properties": { "id": {"type":"string"}, "userId": {"type":"string"}, "fullName": {"type":"string","nullable": true}, "line1": {"type":"string"}, "line2": {"type":"string","nullable": true}, "city": {"type":"string"}, "state": {"type":"string","nullable": true}, "country": {"type":"string"}, "postalCode": {"type":"string"}, "phone": {"type":"string","nullable": true}, "isDefault": {"type":"boolean"} } },
      "CartItem": { "type": "object", "properties": { "id": {"type":"string"}, "cartId": {"type":"string"}, "productId": {"type":"string"}, "variantId": {"type":"string","nullable": true}, "quantity": {"type":"integer"}, "unitPrice": {"type":"number"}, "product": {"$ref":"#/components/schemas/Product"}, "variant": {"$ref":"#/components/schemas/ProductVariant"} } },
      "Cart": { "type": "object", "properties": { "id": {"type":"string"}, "userId": {"type":"string"}, "items": {"type":"array","items":{"$ref":"#/components/schemas/CartItem"}} } },
      "Wishlist": { "type": "object", "properties": { "id": {"type":"string"}, "userId": {"type":"string"}, "productId": {"type":"string"}, "product": {"$ref":"#/components/schemas/Product"} } },
      "Coupon": { "type": "object", "properties": { "id": {"type":"string"}, "code": {"type":"string"}, "description": {"type":"string","nullable": true}, "discountType": {"type":"string"}, "discountValue": {"type":"number"}, "maxDiscountAmount": {"type":"number","nullable": true}, "minOrderAmount": {"type":"number"}, "startsAt": {"type":"string","format":"date-time","nullable": true}, "endsAt": {"type":"string","format":"date-time","nullable": true}, "usageLimit": {"type":"integer","nullable": true}, "perUserLimit": {"type":"integer"}, "isFirstOrderOnly": {"type":"boolean"}, "isActive": {"type":"boolean"} } },
      "CouponRedemption": { "type": "object", "properties": { "id": {"type":"string"}, "couponId": {"type":"string"}, "userId": {"type":"string","nullable": true}, "orderId": {"type":"string","nullable": true}, "redeemedAt": {"type":"string","format":"date-time"} } },
      "OrderItem": { "type": "object", "properties": { "id": {"type":"string"}, "orderId": {"type":"string"}, "productId": {"type":"string"}, "variantId": {"type":"string","nullable": true}, "quantity": {"type":"integer"}, "unitPrice": {"type":"number"}, "totalPrice": {"type":"number"} } },
      "Order": { "type": "object", "properties": { "id": {"type":"string"}, "orderNumber": {"type":"string"}, "userId": {"type":"string"}, "status": {"type":"string"}, "subtotal": {"type":"number"}, "shippingAmount": {"type":"number"}, "discountAmount": {"type":"number"}, "taxAmount": {"type":"number"}, "totalAmount": {"type":"number"}, "currency": {"type":"string"}, "items": {"type":"array","items":{"$ref":"#/components/schemas/OrderItem"}} } },
      "Payment": { "type": "object", "properties": { "id": {"type":"string"}, "orderId": {"type":"string"}, "provider": {"type":"string"}, "status": {"type":"string"}, "amount": {"type":"number"}, "currency": {"type":"string"}, "paidAt": {"type":"string","format":"date-time","nullable": true} } },
      "Refund": { "type": "object", "properties": { "id": {"type":"string"}, "paymentId": {"type":"string"}, "amount": {"type":"number"}, "reason": {"type":"string","nullable": true}, "providerRefundId": {"type":"string","nullable": true} } },
      "Shipment": { "type": "object", "properties": { "id": {"type":"string"}, "orderId": {"type":"string"}, "carrier": {"type":"string","nullable": true}, "service": {"type":"string","nullable": true}, "trackingNumber": {"type":"string","nullable": true}, "status": {"type":"string"} } },
      "ReturnRequest": { "type": "object", "properties": { "id": {"type":"string"}, "orderId": {"type":"string"}, "status": {"type":"string"}, "reason": {"type":"string","nullable": true} } },
      "ReturnItem": { "type": "object", "properties": { "id": {"type":"string"}, "returnId": {"type":"string"}, "orderItemId": {"type":"string"}, "quantity": {"type":"integer"}, "refundAmount": {"type":"number","nullable": true} } },
      "InventoryTransaction": { "type": "object", "properties": { "id": {"type":"string"}, "productId": {"type":"string","nullable": true}, "variantId": {"type":"string","nullable": true}, "action": {"type":"string"}, "quantity": {"type":"integer"}, "reason": {"type":"string","nullable": true} } },
      "Notification": { "type": "object", "properties": { "id": {"type":"string"}, "userId": {"type":"string","nullable": true}, "title": {"type":"string"}, "body": {"type":"string","nullable": true}, "isRead": {"type":"boolean"} } },
      "Chat": { "type": "object", "properties": { "id": {"type":"string"}, "userId": {"type":"string"}, "vendorId": {"type":"string","nullable": true}, "subject": {"type":"string","nullable": true}, "isActive": {"type":"boolean"} } },
      "ChatMessage": { "type": "object", "properties": { "id": {"type":"string"}, "chatId": {"type":"string"}, "senderType": {"type":"string"}, "senderUserId": {"type":"string","nullable": true}, "message": {"type":"string"} } },
      "AuditLog": { "type": "object", "properties": { "id": {"type":"string"}, "entityType": {"type":"string"}, "entityId": {"type":"string","nullable": true}, "action": {"type":"string"}, "performedBy": {"type":"string","nullable": true}, "performedAt": {"type":"string","format":"date-time"} } }
    }
  },
  "security": [{ "bearerAuth": [] }],
  "paths": {
    "/health": { "get": { "summary": "Health check", "responses": { "200": { "description": "OK", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ApiResponse" } } } } } } },

    "/auth/register": { "post": { "summary": "Register", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "required": ["fullName","email","password"], "properties": { "fullName": {"type":"string"}, "email": {"type":"string"}, "password": {"type":"string"}, "phone": {"type":"string"} } } } } }, "responses": { "201": { "description": "Registered" } } } },
    "/auth/login": { "post": { "summary": "Login", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "required": ["email","password"], "properties": { "email": {"type":"string"}, "password": {"type":"string"} } } } } }, "responses": { "200": { "description": "Logged in" } } } },
    "/auth/provider/login": { "post": { "summary": "Social login", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "required": ["provider","providerUserId"], "properties": { "provider": {"type":"string"}, "providerUserId": {"type":"string"}, "email": {"type":"string"}, "fullName": {"type":"string"} } } } } }, "responses": { "200": { "description": "OK" } } } },
    "/auth/provider/link": { "post": { "summary": "Link provider", "security": [{"bearerAuth":[]}], "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "required": ["provider","providerUserId"], "properties": { "provider": {"type":"string"}, "providerUserId": {"type":"string"} } } } } }, "responses": { "201": { "description": "Linked" } } } },
    "/auth/providers": { "get": { "summary": "List linked providers", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK" } } } },
    "/auth/provider/{provider}/{providerUserId}": { "delete": { "summary": "Unlink provider", "security": [{"bearerAuth":[]}], "parameters": [{"name":"provider","in":"path","required":true,"schema":{"type":"string"}},{"name":"providerUserId","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/users/me": { "get": { "summary": "Get profile", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK", "content": { "application/json": {"schema": {"$ref":"#/components/schemas/ApiResponse"}} } } } }, "put": { "summary": "Update profile", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "properties": { "fullName": {"type":"string"}, "phone": {"type":"string"} } } } } }, "responses": { "200": { "description": "Updated" } } } },
    "/users": { "get": { "summary": "List users (admin)", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK" } } } },
    "/users/{id}": { "delete": { "summary": "Soft delete user (admin)", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/vendor": { "get": { "summary": "Get vendor", "responses": { "200": { "description": "OK" } } }, "put": { "summary": "Upsert vendor (admin)", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Vendor" } } } }, "responses": { "200": { "description": "Saved" } } } },

    "/products": { "get": { "summary": "List products", "parameters": [{"name":"q","in":"query","schema":{"type":"string"}},{"name":"categoryId","in":"query","schema":{"type":"string"}},{"name":"material","in":"query","schema":{"type":"string"}},{"name":"color","in":"query","schema":{"type":"string"}},{"name":"origin","in":"query","schema":{"type":"string"}},{"name":"minPrice","in":"query","schema":{"type":"number"}},{"name":"maxPrice","in":"query","schema":{"type":"number"}},{"name":"inStock","in":"query","schema":{"type":"boolean"}},{"name":"sort","in":"query","schema":{"type":"string"}},{"name":"page","in":"query","schema":{"type":"integer"}},{"name":"pageSize","in":"query","schema":{"type":"integer"}}], "responses": { "200": { "description": "OK" } } }, "post": { "summary": "Create product", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Product" } } } }, "responses": { "201": { "description": "Created" } } } },
    "/products/slug/{slug}": { "get": { "summary": "Get by slug", "parameters": [{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },
    "/products/{id}": { "put": { "summary": "Update product", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Product" } } } }, "responses": { "200": { "description": "OK" } } }, "delete": { "summary": "Delete product", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/variants": { "post": { "summary": "Create variant", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ProductVariant" } } } }, "responses": { "201": { "description": "Created" } } } },
    "/variants/{id}": { "put": { "summary": "Update variant", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ProductVariant" } } } }, "responses": { "200": { "description": "OK" } } }, "delete": { "summary": "Delete variant", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/images": { "post": { "summary": "Add product image", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ProductImage" } } } }, "responses": { "201": { "description": "Created" } } } },
    "/images/{id}": { "put": { "summary": "Update image", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ProductImage" } } } }, "responses": { "200": { "description": "OK" } } }, "delete": { "summary": "Delete image", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/categories": { "get": { "summary": "List categories", "responses": { "200": { "description": "OK" } } }, "post": { "summary": "Create category", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Category" } } } }, "responses": { "201": { "description": "Created" } } } },
    "/categories/{id}": { "put": { "summary": "Update category", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Category" } } } }, "responses": { "200": { "description": "OK" } } }, "delete": { "summary": "Delete category", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },
    "/categories/{id}/assign-products": { "post": { "summary": "Assign products", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "required": ["productIds"], "properties": { "productIds": {"type":"array","items":{"type":"string"}} } } } } }, "responses": { "200": { "description": "OK" } } } },
    "/categories/{id}/unassign-products": { "post": { "summary": "Unassign products", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "required": ["productIds"], "properties": { "productIds": {"type":"array","items":{"type":"string"}} } } } } }, "responses": { "200": { "description": "OK" } } } },

    "/cart": { "get": { "summary": "Get cart", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ApiResponse" } } } } } } },
    "/cart/items": { "post": { "summary": "Add item", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "required": ["productId"], "properties": { "productId": {"type":"string"}, "variantId": {"type":"string"}, "quantity": {"type":"integer"} } } } } }, "responses": { "201": { "description": "Created" } } } },
    "/cart/items/{id}": { "put": { "summary": "Update item", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "required": ["quantity"], "properties": { "quantity": {"type":"integer"} } } } } }, "responses": { "200": { "description": "OK" } } }, "delete": { "summary": "Remove item", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/wishlist": { "get": { "summary": "List wishlist", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK" } } }, "post": { "summary": "Add to wishlist", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "required": ["productId"], "properties": { "productId": {"type":"string"} } } } } }, "responses": { "201": { "description": "Created" } } } },
    "/wishlist/{productId}": { "delete": { "summary": "Remove from wishlist", "security": [{"bearerAuth":[]}], "parameters": [{"name":"productId","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/addresses": { "get": { "summary": "List addresses", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK" } } }, "post": { "summary": "Create address", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Address" } } } }, "responses": { "201": { "description": "Created" } } } },
    "/addresses/{id}": { "put": { "summary": "Update address", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Address" } } } }, "responses": { "200": { "description": "OK" } } }, "delete": { "summary": "Delete address", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/coupons": { "get": { "summary": "List coupons (admin)", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK" } } }, "post": { "summary": "Create coupon (admin)", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Coupon" } } } }, "responses": { "201": { "description": "Created" } } } },
    "/coupons/{id}": { "put": { "summary": "Update coupon (admin)", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } }, "delete": { "summary": "Deactivate coupon (admin)", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },
    "/coupons/validate": { "get": { "summary": "Validate coupon", "security": [{"bearerAuth":[]}], "parameters": [{"name":"code","in":"query","required":true,"schema":{"type":"string"}},{"name":"subtotal","in":"query","schema":{"type":"number"}}], "responses": { "200": { "description": "OK" } } } },
    "/coupons/{id}/redemptions": { "get": { "summary": "List coupon redemptions (admin)", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/orders": { "get": { "summary": "List my orders", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK" } } }, "post": { "summary": "Create order from cart", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "properties": { "shippingAddressId": {"type":"string"}, "billingAddressId": {"type":"string"}, "couponCode": {"type":"string"}, "paymentMethod": {"type":"string"} } } } } }, "responses": { "201": { "description": "Created" } } } },
    "/orders/{id}/status": { "put": { "summary": "Update order status (admin/vendor)", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "required": ["status"], "properties": { "status": {"type":"string"} } } } } }, "responses": { "200": { "description": "OK" } } } },

    "/payments/intent": { "post": { "summary": "Create payment intent", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "required": ["orderId"], "properties": { "orderId": {"type":"string"}, "provider": {"type":"string"} } } } } }, "responses": { "201": { "description": "Created" } } } },
    "/payments/webhook": { "post": { "summary": "Payment webhook", "responses": { "200": { "description": "OK" } } } },
    "/payments/refund": { "post": { "summary": "Create refund", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "required": ["paymentId","amount"], "properties": { "paymentId": {"type":"string"}, "amount": {"type":"number"} } } } } }, "responses": { "201": { "description": "Created" } } } },

    "/shipments": { "post": { "summary": "Create shipment (admin/vendor)", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Shipment" } } } }, "responses": { "201": { "description": "Created" } } } },
    "/shipments/{id}/status": { "put": { "summary": "Update shipment status (admin/vendor)", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },
    "/shipments/order/{orderId}": { "get": { "summary": "List order shipments", "security": [{"bearerAuth":[]}], "parameters": [{"name":"orderId","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/returns": { "post": { "summary": "Request return", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "required": ["orderId","items"], "properties": { "orderId": {"type":"string"}, "reason": {"type":"string"}, "items": {"type":"array","items": { "type": "object", "required": ["orderItemId","quantity"], "properties": { "orderItemId": {"type":"string"}, "quantity": {"type":"integer"} } } } } } } } }, "responses": { "201": { "description": "Created" } } } },
    "/returns/{id}/decision": { "put": { "summary": "Update return decision (admin/vendor)", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/notifications": { "get": { "summary": "List notifications", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK" } } } },
    "/notifications/read/{id}": { "post": { "summary": "Mark read", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },
    "/notifications/read-all": { "post": { "summary": "Mark all read", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK" } } } },
    "/notifications/{id}/vendor-read": { "post": { "summary": "Vendor marked read", "security": [{"bearerAuth":[]}], "parameters": [{"name":"id","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/chat/start": { "post": { "summary": "Start chat", "security": [{"bearerAuth":[]}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "properties": { "subject": {"type":"string"} } } } } }, "responses": { "201": { "description": "Created" } } } },
    "/chat": { "get": { "summary": "List my chats", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK" } } } },
    "/chat/{chatId}/messages": { "post": { "summary": "Send message", "security": [{"bearerAuth":[]}], "parameters": [{"name":"chatId","in":"path","required":true,"schema":{"type":"string"}}], "requestBody": { "content": { "application/json": { "schema": { "type": "object", "required": ["message"], "properties": { "message": {"type":"string"} } } } } }, "responses": { "201": { "description": "Created" } } }, "get": { "summary": "List messages", "security": [{"bearerAuth":[]}], "parameters": [{"name":"chatId","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },
    "/chat/{chatId}/close": { "post": { "summary": "Close chat (admin/vendor)", "security": [{"bearerAuth":[]}], "parameters": [{"name":"chatId","in":"path","required":true,"schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } },

    "/audit-logs": { "get": { "summary": "List audit logs (admin)", "security": [{"bearerAuth":[]}], "responses": { "200": { "description": "OK" } } } },
    "/inventory": { "get": { "summary": "List inventory transactions (admin/vendor)", "security": [{"bearerAuth":[]}], "parameters": [{"name":"productId","in":"query","schema":{"type":"string"}},{"name":"variantId","in":"query","schema":{"type":"string"}}], "responses": { "200": { "description": "OK" } } } }
  }
}
